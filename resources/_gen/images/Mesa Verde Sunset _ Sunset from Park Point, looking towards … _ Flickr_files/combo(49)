YUI.add("hermes-lang-relative-dates",function(_,T){_.Intl.add("hermes/relative-dates","en-US",{SECOND_LONG:["1 second"],SECONDS_LONG:["${time}"," seconds"],MINUTE_LONG:["1 min"],MINUTES_LONG:["${time}"," mins"],HOUR_LONG:["1 hour"],HOURS_LONG:["${time}"," hours"],DAY_LONG:["1 day"],DAYS_LONG:["${time}"," days"],MONTH_LONG:["1 month"],MONTHS_LONG:["${time}"," months"],YEAR_LONG:["1 year"],YEARS_LONG:["${time}"," years"],SECOND_SHORT:["1s"],SECONDS_SHORT:["${time}","s"],MINUTE_SHORT:["1m"],MINUTES_SHORT:["${time}","m"],HOUR_SHORT:["1h"],HOURS_SHORT:["${time}","h"],DAY_SHORT:["1d"],DAYS_SHORT:["${time}","d"],MONTH_SHORT:["1mo"],MONTHS_SHORT:["${time}","mo"],YEAR_SHORT:["1y"],YEARS_SHORT:["${time}","y"],SECOND_LONG_FUTURE:["in 1 second"],SECONDS_LONG_FUTURE:["in ","${time}"," seconds"],MINUTE_LONG_FUTURE:["in 1 min"],MINUTES_LONG_FUTURE:["in ","${time}"," mins"],HOUR_LONG_FUTURE:["in 1 hour"],HOURS_LONG_FUTURE:["in ","${time}"," hours"],DAY_LONG_FUTURE:["in 1 day"],DAYS_LONG_FUTURE:["in ","${time}"," days"],MONTH_LONG_FUTURE:["in 1 month"],MONTHS_LONG_FUTURE:["in ","${time}"," months"],YEAR_LONG_FUTURE:["in 1 year"],YEARS_LONG_FUTURE:["in ","${time}"," years"],FUTURE_SHORT_FUTURE:["in ","${time}"],SECOND_SHORT_FUTURE:["in 1s"],SECONDS_SHORT_FUTURE:["in ","${time}","s"],MINUTE_SHORT_FUTURE:["in 1m"],MINUTES_SHORT_FUTURE:["in ","${time}","m"],HOUR_SHORT_FUTURE:["in 1h"],HOURS_SHORT_FUTURE:["in ","${time}","h"],DAY_SHORT_FUTURE:["in 1d"],DAYS_SHORT_FUTURE:["in ","${time}","d"],MONTH_SHORT_FUTURE:["in 1mo"],MONTHS_SHORT_FUTURE:["in ","${time}","mo"],YEAR_SHORT_FUTURE:["in 1y"],YEARS_SHORT_FUTURE:["in ","${time}","y"],SECOND_LONG_PAST:["1 second ago"],SECONDS_LONG_PAST:["${time}"," seconds ago"],MINUTE_LONG_PAST:["1 min ago"],MINUTES_LONG_PAST:["${time}"," mins ago"],HOUR_LONG_PAST:["1 hour ago"],HOURS_LONG_PAST:["${time}"," hours ago"],DAY_LONG_PAST:["1 day ago"],DAYS_LONG_PAST:["${time}"," days ago"],MONTH_LONG_PAST:["1 month ago"],MONTHS_LONG_PAST:["${time}"," months ago"],YEAR_LONG_PAST:["1 year ago"],YEARS_LONG_PAST:["${time}"," years ago"],SECOND_SHORT_PAST:["1s ago"],SECONDS_SHORT_PAST:["${time}","s ago"],MINUTE_SHORT_PAST:["1m ago"],MINUTES_SHORT_PAST:["${time}","m ago"],HOUR_SHORT_PAST:["1h ago"],HOURS_SHORT_PAST:["${time}","h ago"],DAY_SHORT_PAST:["1d ago"],DAYS_SHORT_PAST:["${time}","d ago"],MONTH_SHORT_PAST:["1mo ago"],MONTHS_SHORT_PAST:["${time}","mo ago"],YEAR_SHORT_PAST:["1y ago"],YEARS_SHORT_PAST:["${time}","y ago"],NO_DATE:["-"]})},"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-notifications",function(e,o){e.Intl.add("hermes/notifications","en-US",{NOTIF_PHOTO_FAVE:["<a href='","${ownerUrl}","'>","${owner}","</a> faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_FAVE_MULTI:[{type:"plural",valueName:"count",options:{one:["<a href='","${ownerUrl}","'>","${owner}","</a> and <a href='","${secondUrl}","'>","${secondOwner}","</a> faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:["<a href='","${ownerUrl}","'>","${owner}","</a> and ","${count}"," others faved your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_PERSON_FOLLOW:["<a href='","${ownerUrl}","'>","${owner}","</a> is now following you!"],NOTIF_PHOTO_COMMENT_YOURS:['<a href="',"${personUrl}",'">',"${personName}","</a> commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_COMMENT_YOURS_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a> commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}","</a> and ","${count}"," others commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_PHOTO_COMMENT_OTHER:['<a href="',"${personUrl}",'">',"${personName}",'</a> commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_COMMENT_OTHER_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}],other:['<a href="',"${firstPersonUrl}",'">',"${firstPersonName}","</a> and ","${count}",' others commented on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}]}},"."],NOTIF_MENTION:['<a href="',"${personUrl}",'">',"${personName}","</a> mentioned you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_MENTION_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," mentioned you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_PHOTO_GROUP_INVITE:["<a href='","${ownerUrl}","'>","${owner}","</a> invited you to add your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," to the group <a href='","${groupUrl}","'>","${groupName}","</a>."],NOTIF_PHOTO_GROUP_INVITE_MULTI:["You've been invited to add your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," to the ",{type:"plural",valueName:"count",options:{one:["groups <a href='","${groupUrl}","'>","${groupName}","</a> and <a href='","${secondGroupUrl}","'>","${secondGroupName}","</a>"],other:["group <a href='","${groupUrl}","'>","${groupName}","</a> and ","${count}"," other groups"]}},"."],NOTIF_GROUP_USER_INVITE:["You've been invited to join the group <a href=\"","${groupUrl}",'">',"${groupName}","</a>."],NOTIF_TAGS:['<a href="',"${personUrl}",'">',"${personName}","</a> tagged your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_TAGS_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," tagged your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_GALLERY:["Your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},' was added to the gallery <a href="',"${galleryUrl}",'">',"${galleryName}","</a>."],NOTIF_GALLERY_MULTI:["Your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," was added to the ",{type:"plural",valueName:"count",options:{one:['galleries <a href="',"${galleryUrl}",'">',"${galleryName}",'</a> and <a href="',"${secondGalleryUrl}",'">',"${secondGalleryName}","</a>"],other:['gallery <a href="',"${galleryUrl}",'">',"${galleryName}","</a> and ","${count}"," other galleries"]}},"."],NOTIF_ADD_PERSON:['<a href="',"${personUrl}",'">',"${personName}","</a> tagged people in your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_ADD_PEOPLE:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," tagged people in your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_ADD_ME:['<a href="',"${ownerUrl}",'">',"${ownerName}","</a> tagged you in a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES:['<a href="',"${personUrl}",'">',"${personName}","</a> left a note on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}}," left notes on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"."],NOTIF_NOTES_OTHER:['<a href="',"${personUrl}",'">',"${personName}",'</a> left a note on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."],NOTIF_NOTES_OTHER_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> left notes on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}",' others left notes on <a href="',"${ownerUrl}",'">',"${ownerName}","'s</a> photo."]}}],NOTIF_VIEW_RECENT_ACTIVITY:["View Recent Activity"],NOTIFICATIONS:["Notifications"],NOTIF_SHARE:['<a href="',"${personUrl}",'">',"${personName}","</a> shared a ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}}," with you."],FLICKR_MAIL_COUNT_PAREN:["(","${count}",")"],FLICKR_GROUP_DISCUSSION_REPLY:['<a href="',"${personUrl}",'">',"${personName}",'</a> replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],FLICKR_GROUP_DISCUSSION_REPLY_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}},' replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_DISCUSSION_REPLY:['<a href="',"${personUrl}",'">',"${personName}",'</a> replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_DISCUSSION_REPLY_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}","</a>"],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}"," others"]}},' replied to the discussion <a href="',"${replyUrl}",'">',"${objectTitle}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_ONBOARDING_TITLE:["NEW — Notification Center"],NOTIF_ONBOARDING_DESCRIPTION:["Here, you'll find notifications of your recent activity on Flickr. This includes easy access to <a href=\"/mail\">FlickrMail</a>. We think you'll enjoy what we've built so far."],NOTIF_GALLERY_COMMENT:['<a href="',"${personUrl}",'">',"${personName}",'</a> commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."],NOTIF_GALLERY_COMMENT_MULTI:[{type:"plural",valueName:"count",options:{one:['<a href="',"${personUrl}",'">',"${personName}",'</a> and <a href="',"${secondPersonUrl}",'">',"${secondPersonName}",'</a> commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."],other:['<a href="',"${personUrl}",'">',"${personName}","</a> and ","${count}",' others commented on your gallery <a href="',"${objectUrl}",'">',"${objectName}","</a>."]}}],NOTIF_FRIEND_JOIN:['Your friend <a href="',"${personUrl}",'">',"${personName}","</a> joined Flickr!"],NOTIF_NEW_GROUP_DISCUSSION:['<a href="',"${personUrl}",'">',"${personName}",'</a> created the discussion <a href="',"${discussionUrl}",'">',"${discussionName}",'</a> in the group <a href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_FLICKRMAIL:['<a href="',"${personUrl}",'">',"${personName}",'</a> sent you a message: <a href="',"${mailUrl}",'">“',"${mailTitle}","”</a>"],NOTIF_TURN_OFF_OBJECT:["Turn off notifications for this post"],NOTIF_TURN_ON_OBJECT:["Turn on notifications for this post"],NOTIF_HIDE_THIS:["Hide this notification"],NOTIF_NOTHING_HERE:["When you have new notifications, they’ll appear here."],NOTIF_OFF_FOR_POST:["Notifications for this post are off."],NOTIF_UNDO:["Undo"],NOTIF_TESTIMONIAL:['<a href="',"${personUrl}",'">',"${personName}",'</a> wrote you a <a href="',"${testimonialUrl}",'">testimonial</a>.'],GROUP_INVITE_ACCEPT:["Accept invite"],GROUP_INVITE_NO_THANKS:["No thanks"],GROUP_INVITE_ACCEPTED:["Invite accepted"],GROUP_INVITE_DECLINED:["Invite declined"],FLICKRMAIL_HAS_MOVED:['FlickrMail has moved to your settings menu! <a class="open-account-droparound-button" role="button" >Open menu</a>'],NOTIF_1_PERSON_FAVED_X_PHOTOS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> faved ","${photoCountString}"," ",{type:"select",valueName:"mediaType",options:{photo:["photos"],video:["videos"],other:["photos"]}},"."],NOTIF_1_PERSON_FAVED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> faved <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_X_PEOPLE_FAVED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others faved <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_2_PEOPLE_FAVED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> faved <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_1_PERSON_FAVED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> faved <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_X_PEOPLE_FAVED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others faved <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_2_PEOPLE_FAVED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> faved <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_1_PERSON_COMMENTED_X_PHOTOS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> commented on ","${photoCountString}"," ",{type:"select",valueName:"mediaType",options:{photo:["photos"],video:["videos"],other:["photos"]}},"."],NOTIF_1_PERSON_COMMENTED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> commented on your photo: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_X_PEOPLE_COMMENTED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others commented on <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_X_PEOPLE_COMMENTED_1_PHOTO_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}"," others commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},': <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_2_PEOPLE_COMMENTED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> commented on <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_2_PEOPLE_COMMENTED_1_PHOTO_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}","</a> commented on your ",{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},': <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_1_PERSON_STRIPPED_COMMENTED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> commented on <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_X_PEOPLE_COMMENTED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others commented on <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_2_PEOPLE_COMMENTED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> commented on <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_1_PERSON_FOLLOWED_YOU:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> is now following you!"],NOTIF_X_PEOPLE_FOLLOWED_YOU:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}"," others are now following you!"],NOTIF_2_PEOPLE_FOLLOWED_YOU:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}","</a> are now following you!"],NOTIF_1_PERSON_LEFT_NOTE_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> left a note on your photo: <a class="note-link" href="',"${noteUrl}",'">“',"${noteContent}","”</a>"],NOTIF_X_PEOPLE_LEFT_NOTE_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others left notes on <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_2_PEOPLE_LEFT_NOTE_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> left notes on <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_1_PERSON_TAGGED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> tagged your photo with <a class="tag-link" href="',"${tagUrl}",'">“',"${tagName}","”</a>."],NOTIF_1_PERSON_TAGGED_X_PHOTOS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> tagged ","${photoCountString}"," photos."],NOTIF_1_PERSON_MULTI_TAGGED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> tagged <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_1_PERSON_MULTI_TAGGED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> tagged <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_X_PEOPLE_TAGGED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others tagged <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_X_PEOPLE_TAGGED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others tagged <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_2_PEOPLE_TAGGED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> tagged <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_2_PEOPLE_TAGGED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> tagged <a class="photo-link" href="',"${photoUrl}",'">your ',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_1_PERSON_TESTIMONIAL:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> wrote you a testimonial: <a class="testimonial-link" href="',"${testimonialUrl}",'">“',"${testimonialContent}","”</a>"],NOTIF_1_PERSON_FLICKRMAIL:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> sent you a message: <a class="flickrmail-link" href="',"${flickrmailUrl}",'">“',"${flickrmailContent}","”</a>"],NOTIF_1_PERSON_COMMENT_MENTIONED_YOU_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> mentioned you in a comment: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_X_PEOPLE_COMMENT_MENTIONED_YOU_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others mentioned you in <a class="comments-link" href="',"${commentsUrl}",'">comments</a>.'],NOTIF_X_PEOPLE_COMMENT_MENTIONED_YOU_1_PHOTO_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others mentioned you in comments: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_2_PEOPLE_COMMENT_MENTIONED_YOU_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> mentioned you in <a class="comments-link" href="',"${commentsUrl}",'">comments</a>.'],NOTIF_2_PEOPLE_COMMENT_MENTIONED_YOU_1_PHOTO_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> mentioned you in comments: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_1_PERSON_ADDED_1_PHOTO_TO_GALLERY:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> added your photo to the gallery <a class="gallery-link" href="',"${galleryUrl}",'">',"${galleryTitle}","</a>."],NOTIF_X_PEOPLE_ADDED_1_PHOTO_TO_GALLERIES:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}"," others added your photo to galleries."],NOTIF_2_PEOPLE_ADDED_1_PHOTO_TO_GALLERIES:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}","</a> added your photo to galleries."],NOTIF_1_PERSON_COMMENTED_ON_1_GALLERY:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> commented on your gallery <a class="gallery-link" href="',"${galleryUrl}",'">',"${galleryTitle}",'</a>: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_X_PEOPLE_COMMENTED_ON_1_GALLERY:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others commented on your gallery <a class="gallery-link" href="',"${galleryUrl}",'">',"${galleryTitle}","</a>."],NOTIF_X_PEOPLE_COMMENTED_ON_1_GALLERY_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others commented on your gallery <a class="gallery-link" href="',"${galleryUrl}",'">',"${galleryTitle}",'</a>: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_2_PEOPLE_COMMENTED_ON_1_GALLERY:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> commented on your gallery <a class="gallery-link" href="',"${galleryUrl}",'">',"${galleryTitle}","</a>."],NOTIF_2_PEOPLE_COMMENTED_ON_1_GALLERY_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> commented on your gallery <a class="gallery-link" href="',"${galleryUrl}",'">',"${galleryTitle}",'</a>: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_1_PERSON_SHARED_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> shared the photo <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a> with you."],NOTIF_1_PERSON_SHARED_1_UNTITLED_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> shared a <a class="photo-link" href="',"${photoUrl}",'">',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a> with you."],NOTIF_1_PERSON_INVITED_1_PHOTO_TO_GROUP:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> invited you to add your photo to the group <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_1_PERSON_INVITED_1_PHOTO_TO_GROUPS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> invited you to add your photo to groups."],NOTIF_X_PEOPLE_INVITED_1_PHOTO_TO_GROUPS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}"," others invited you to add your photo to groups."],NOTIF_2_PEOPLE_INVITED_1_PHOTO_TO_GROUPS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}","</a> invited you to add your photo to groups."],NOTIF_1_PERSON_INVITED_YOU_TO_GROUP:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> invited you to the group <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_1_PERSON_CREATED_TOPIC:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> created the topic <a class="topic-link" href="',"${topicUrl}",'">',"${topicName}","</a>."],NOTIF_X_PEOPLE_CREATED_TOPICS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others created <a class="topics-link" href="',"${topicsUrl}",'">new discussion topics</a>.'],NOTIF_2_PEOPLE_CREATED_TOPICS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> created <a class="topics-link" href="',"${topicsUrl}",'">new discussion topics</a>.'],NOTIF_1_PERSON_REPLIED_TO_TOPIC:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> replied to <a class="topic-link" href="',"${topicUrl}",'">',"${topicName}",'</a>:  <a class="reply-link" href="',"${replyUrl}",'">“',"${replyContent}","”</a>"],NOTIF_X_PEOPLE_REPLIED_TO_TOPIC:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others replied to <a class="topic-link" href="',"${topicUrl}",'">',"${topicName}","</a>."],NOTIF_2_PEOPLE_REPLIED_TO_TOPIC:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> replied to <a class="topic-link" href="',"${topicUrl}",'">',"${topicName}","</a>."],NOTIF_1_PERSON_COMMENTED_AFTER_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> commented on a photo you commented on: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_X_PEOPLE_COMMENTED_AFTER_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}"," others commented on a photo you commented on."],NOTIF_X_PEOPLE_COMMENTED_AFTER_1_PHOTO_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others commented on a photo you commented on: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_2_PEOPLE_COMMENTED_AFTER_1_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}","</a> commented on a photo you commented on."],NOTIF_2_PEOPLE_COMMENTED_AFTER_1_PHOTO_W_COMMENT:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> commented on a photo you commented on: <a class="comment-link" href="',"${commentUrl}",'">“',"${commentContent}","”</a>"],NOTIF_GROUP_ADMIN_APPROVED_1_PHOTO:['An admin approved your photo for <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_ADMIN_APPROVED_X_PHOTOS:["An admin approved ","${photoCountString}",' photos for <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_ADMIN_REJECTED_1_PHOTO:['An admin rejected your photo for <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_ADMIN_REJECTED_X_PHOTOS:["An admin rejected ","${photoCountString}",' photos for <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_GROUP_ADMIN_JOIN_REQUEST_ACCEPTED:['An admin accepted your request to join the group <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_CONTACT_UPLOAD:['Your contact <a href="',"${personUrl}",'">',"${personName}","</a> uploaded new photos."],NOTIF_PHOTO_MODERATED_MODERATE:['The Flickr Moderation Bot 🤖 changed your photo to Moderate. <a class="learn-link" href="',"${learnUrl}",'">Learn more</a>.'],NOTIF_PHOTO_MODERATED_RESTRICTED:['The Flickr Moderation Bot 🤖 changed your photo to Restricted. <a class="learn-link" href="',"${learnUrl}",'">Learn more</a>.'],GROUPS_YOU_ADMIN:["Groups You Admin"],NOTIF_FILTER_ALL:["All notifications"],NOTIF_FILTER_COMMENTS:["Comments"],NOTIF_FILTER_FAVES:["Faves"],NOTIF_FILTER_FOLLOWERS:["Followers"],NOTIF_FILTER_GALLERIES:["Galleries"],NOTIF_FILTER_GROUPS:["Groups"],NOTIF_FILTER_FLICKRMAIL:["Messages (FlickrMail)"],NOTIF_FILTER_NOTES:["Notes"],NOTIF_FILTER_TAGS:["Tags"],NOTIF_FILTER_TESTIMONIALS:["Testimonials"],NOTIF_FILTER_MENTIONS:["Mentions"],NOTIF_FILTER_MUTED:["Muted notifications"],NOTIF_FILTER_ADMIN_ALL_GROUPS:["All groups"],TESTIMONIAL_APPROVED:["Testimonial approved"],TESTIMONIAL_REJECTED:["Testimonial rejected"],INVITATION_ACCEPTED:["Invitation accepted"],INVITATION_DECLINED:["Invitation declined"],VIEW_ALL_NOTIFICATIONS:["View all notifications"],MUTE_THIS_NOTIFICATION:["Mute this notification"],UNMUTE_THIS_NOTIFICATION:["Unmute this notification"],MUTE_THIS_GROUP:["Mute this group"],NOTIF_1_PERSON_UPDATED_GROUP_BLAST:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> updated the admin blast for <a class="group-link" href="',"${groupUrl}",'">',"${groupName}",'</a>: <a class="blast-link" href="',"${blastUrl}",'">“',"${blastContent}","”</a>."],NOTIF_1_PERSON_UPDATED_GROUP_RULES:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> updated the group rules for <a class="group-link" href="',"${groupUrl}",'">',"${groupName}",'</a>: <a class="blast-link" href="',"${rulesUrl}",'">“',"${rulesContent}","”</a>."],
NOTIF_1_PERSON_UPDATED_GROUP_DESCRIPTION:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> updated the group description for <a class="group-link" href="',"${groupUrl}",'">',"${groupName}",'</a>: <a class="blast-link" href="',"${descriptionUrl}",'">“',"${descriptionContent}","”</a>."],NOTIF_1_PERSON_TAGGED_1_PERSON_IN_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> tagged <a class="tagged-person-link" href="',"${taggedPersonUrl}",'">',"${taggedPersonName}",'</a> in <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_1_PERSON_TAGGED_PEOPLE_IN_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> tagged people in <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_X_PEOPLE_TAGGED_PEOPLE_IN_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others tagged people in <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_2_PEOPLE_TAGGED_PEOPLE_IN_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> and <a class="person-2-link" href="',"${person2Url}",'">',"${person2Name}",'</a> tagged people in <a class="photo-link" href="',"${photoUrl}",'">“',"${photoTitle}","”</a>."],NOTIF_1_PERSON_TAGGED_YOU_IN_PHOTO:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> tagged you in a <a class="photo-link" href="',"${photoUrl}",'">',{type:"select",valueName:"mediaType",options:{photo:["photo"],video:["video"],other:["photo"]}},"</a>."],NOTIF_1_PERSON_TAGGED_YOU_IN_X_PHOTOS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> tagged you in ","${photoCountString}"," photos."],NOTIF_1_PERSON_TAGGED_PEOPLE_IN_X_PHOTOS:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> tagged people in ","${photoCountString}"," photos."],NOTIF_1_PERSON_REQUESTED_TO_JOIN:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> requested to join <a class="group-link" href="',"${groupUrl}",'">',"${groupName}","</a>."],NOTIF_X_PEOPLE_REQUESTED_TO_JOIN:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others added requests to the <a class="group-link" href="',"${memberQueueUrl}",'">member pending queue</a>.'],NOTIF_1_PERSON_ADDED_1_PHOTO_TO_QUEUE:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> added a photo to the <a class="group-link" href="',"${pendingQueueUrl}",'">pending queue</a>.'],NOTIF_1_PERSON_ADDED_PHOTOS_TO_QUEUE:['<a class="person-link" href="',"${personUrl}",'">',"${personName}",'</a> added photos to the <a class="group-link" href="',"${pendingQueueUrl}",'">pending queue</a>.'],NOTIF_X_PEOPLE_ADDED_PHOTOS_TO_QUEUE:['<a class="person-link" href="',"${personUrl}",'">',"${personName}","</a> and ","${personCountString}",' others added photos to the <a class="group-link" href="',"${pendingQueueUrl}",'">pending queue</a>.'],GROUP_ADMIN_JOIN_REQUEST_ACCEPTED:["Join request accepted"],GROUP_ADMIN_JOIN_REQUEST_DECLINED:["Join request declined"],GROUP_ADMIN_PHOTO_REQUEST_APPROVED:["Photo request approved"],GROUP_ADMIN_PHOTO_REQUEST_DENIED:["Photo request denied"],TIP_SETTINGS:["Use the brand new Notification Settings page to control which notifications you receive."],TIP_FILTER:["You can filter your notifications by type. Show only notifications for comments, galleries, groups, and more."],TIP_GROUPS:["Notifications for the groups you administer or moderate are in a separate tab for easier group management."],TIP_MUTE:["Easily mute single notifications, entire groups, and more."],NOTIF_1_PERSON_SET_GROUP_COVER_PHOTO:['<a href="',"${personUrl}",'">',"${personName}",'</a> set your photo as the cover of <a href="',"${groupUrl}",'">',"${groupName}","</a>!"]})},"@VERSION@",{requires:["intl"]});YUI.add("notifications-view",function(t,i){require("hermes-core/flog")(i);t.namespace("Views")[this.name]=t.Base.create("notifications-view",t.FlickrView,[],{langBundles:this.details.langBundles,registries:{person:"person-models",photo:"photo-models",group:"group-info-models",gallery:"gallery-models"},initializer:function(t){var i=this.appContext.getViewer();return""===this.get("container").get("innerHTML")&&this.setContainerHTML(""),this.nsid=i&&i.signedIn?i.nsid:void 0,t.nsid=this.nsid,this.pageNum=0,this.pageSize=30,this.isFetchingNotifs=!1,this.scrollBottomLoadDist=300,this.endOfNotifs=!1,this.shouldFetchNotifs=t.shouldFetchNotifs,this.height=t.height,this.width=t.width,this.listHeight=t.listHeight,this.overflowX=t.overflowX,this.overflowY=t.overflowY,this.notifFilter=t.notifFilter,this},loadState:function(){return this},buildContainer:function(){return this.setContainerWithTemplate("notifications",{notifications:[],height:this.height,width:this.width,listHeight:this.listHeight,overflowX:this.overflowX,overflowY:this.overflowY}),this},activate:function(){var t,i,e,o,n=this;return n.scrollContainer=n.get("container").one(".notifications-list"),n.scrollContainerElement=this.scrollContainer.getDOMNode(),this.registerEventHandler(n.scrollContainer.on("scroll",n.handleScrollNotifications.bind(n))),n.get("personNotificationsModels")?n.getMoreNotifications():(t=this.appContext.getViewer(),this.appContext.getModel("person-notifications-models",t.nsid).then(function(t){n.set("personNotificationsModels",t),i=t.getValue("notifications").size(),e=t.getValue("unseenNotificationCount"),n.shouldFetchNotifs&&0!==e||0===i||t.getValue("muteChanged")?(n.shouldFetchNotifs=!1,t.setValue("unseenNotificationCount",0),t.setValue("muteChanged",!1),n.get("container").one(".notifications-list").addClass("loading"),n.getMoreNotifications()):(o=t.getValue("notifications").getList(),n.pageNum=Math.floor(i/n.pageSize),n.appendPage(o))})),this},handleScrollNotifications:function(t){this.isFetchingNotifs||this.scrollContainerElement.offsetHeight+this.scrollContainerElement.scrollTop+this.scrollBottomLoadDist>=this.scrollContainerElement.scrollHeight&&this.getMoreNotifications()},getMoreNotifications:function(){this.endOfNotifs||(this.isFetchingNotifs=!0,this.showBalls(this.get("container").one(".notifications-list")),this.retrieveNotifsPage(),t.Analytics.sendClick("Legacy Notifications Load More"))},appendPage:function(i){var e=this;i.forEach(function(i){var o=i.toJSON();o.appContext=e.appContext,o.notifModel=e.get("personNotificationsModels"),o.events&&0!==o.events.length&&new t.Views["notification-view"](o).initialize(o).then(function(n){var s=t.Node.create('<li class="notification-list-item"></li>');e.get("container").one(".notifications-list").append(s),o.seen||s.addClass("unseen"),s.setHTML(n.get("container")),i.setValue("seen",!0),n.activate()})})},showBalls:function(i){this.balls||(this.balls=t.Node.create('<li class="loading-balls"></li>'),this.balls.setHTML(this.templates("flickr-balls")({}))),(i||this.get("container")).append(this.balls)},hideBalls:function(){this.balls&&this.balls.remove()},retrieveNotifsPage:function(){var t=this,i=t.get("personNotificationsModels");return i.getValue("notifications").getPage({page:t.pageNum+1,apiParams:{filter:t.notifFilter}}).then(function(e){return 0!==e.length?(t.pageNum++,t.set("personNotifications",i.getValue("notifications")),t.appendPage(e)):(0===t.pageNum&&t.get("container").one(".notifications-empty-state").removeClass("hidden"),t.endOfNotifs=!0),t.get("container").one(".notifications-list").removeClass("loading"),t.hideBalls(),t.isFetchingNotifs=!1,t},function(t){}).then(function(t){t.registerEventHandler(t.get("container").all("a").on("focus",function(i){var e=i.target.ancestor("li");e&&t.findFocus.call(this,e)}.bind(t)))})},findFocus:function(t){var i,e=t.one("a.photo");e?e.focus():(i=t.one("a:first-child"))&&i.focus()}})},"@VERSION@",{requires:["flickr-view","hermes-template-notifications"],langBundles:["common","notifications"],optional:["person-notifications-models","notification-view","photo-models","group-info-models","person-models","gallery-models"]});YUI.add("hermes-template-notifications-panel",function(n,t){var l=n.Template.Handlebars.revive({1:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\twidth: "+n.escapeExpression("function"==typeof(o=null!=(o=i(l,"width")||(null!=t?i(t,"width"):t))?o:n.hooks.helperMissing)?o.call(null!=t?t:n.nullContext||{},{name:"width",hash:{},data:a,loc:{start:{line:4,column:9},end:{line:4,column:18}}}):o)+"px;\n"},3:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\theight: "+n.escapeExpression("function"==typeof(o=null!=(o=i(l,"height")||(null!=t?i(t,"height"):t))?o:n.hooks.helperMissing)?o.call(null!=t?t:n.nullContext||{},{name:"height",hash:{},data:a,loc:{start:{line:7,column:10},end:{line:7,column:20}}}):o)+"px;\n"},5:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t\t<span class="count-in-parens">('+n.escapeExpression(n.lambda(null!=(o=null!=t?i(t,"unreadCounts"):t)?i(o,"main"):o,t))+")</span>\n"},7:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<span role="button" class="tab" data-tab-id="admin">\n\t\t\t\t\t'+n.escapeExpression((s(l,"intlMessage")||t&&s(t,"intlMessage")||n.hooks.helperMissing).call(i,{name:"intlMessage",hash:{intlName:"notifications.GROUPS_YOU_ADMIN"},data:a,loc:{start:{line:22,column:5},end:{line:22,column:63}}}))+"\n"+(null!=(o=s(l,"if").call(i,null!=(o=null!=t?s(t,"unreadCounts"):t)?s(o,"admin"):o,{name:"if",hash:{},fn:n.program(8,a,0),inverse:n.noop,data:a,loc:{start:{line:23,column:5},end:{line:25,column:12}}}))?o:"")+"\t\t\t\t</span>\n"},8:function(n,t,l,e,a){var o,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t\t<span class="count-in-parens">('+n.escapeExpression(n.lambda(null!=(o=null!=t?i(t,"unreadCounts"):t)?i(o,"admin"):o,t))+")</span>\n"},10:function(n,t,l,e,a){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return"\t\t"+n.escapeExpression((o(l,"outlet")||t&&o(t,"outlet")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},null!=t?o(t,"notification-banner-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:37,column:2},end:{line:37,column:37}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(n,t,l,e,a){var o,i=null!=t?t:n.nullContext||{},s=n.hooks.helperMissing,r=n.escapeExpression,c=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'<div class="notifications-panel"\n\tstyle="\n'+(null!=(o=c(l,"if").call(i,null!=t?c(t,"width"):t,{name:"if",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:3,column:1},end:{line:5,column:8}}}))?o:"")+(null!=(o=c(l,"if").call(i,null!=t?c(t,"height"):t,{name:"if",hash:{},fn:n.program(3,a,0),inverse:n.noop,data:a,loc:{start:{line:6,column:1},end:{line:8,column:8}}}))?o:"")+'\t">\n\t<div class="nav-container">\n\t\t<div class="tabs disabled">\n\t\t\t<span role="button" class="tab selected" data-tab-id="main">\n\t\t\t\t<span>\n\t\t\t\t\t'+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"notifications.NOTIFICATIONS"},data:a,loc:{start:{line:14,column:5},end:{line:14,column:60}}}))+"\n"+(null!=(o=c(l,"if").call(i,null!=(o=null!=t?c(t,"unreadCounts"):t)?c(o,"main"):o,{name:"if",hash:{},fn:n.program(5,a,0),inverse:n.noop,data:a,loc:{start:{line:15,column:5},end:{line:17,column:12}}}))?o:"")+"\t\t\t\t</span>\n\t\t\t</span>\n"+(null!=(o=c(l,"if").call(i,null!=t?c(t,"showAdminTab"):t,{name:"if",hash:{},fn:n.program(7,a,0),inverse:n.noop,data:a,loc:{start:{line:20,column:3},end:{line:27,column:10}}}))?o:"")+'\t\t</div>\n\t\t<div class="actions">\n\t\t\t<div class="tour-tooltip-start"></div>\n\t\t\t<a class="action settings-link" href="/account/email">\n\t\t\t\t<svg class="icon"><use xlink:href="#icon-settings"></use></svg>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n'+(null!=(o=c(l,"if").call(i,null!=t?c(t,"showBanner"):t,{name:"if",hash:{},fn:n.program(10,a,0),inverse:n.noop,data:a,loc:{start:{line:36,column:1},end:{line:38,column:8}}}))?o:"")+'\t<div class="list-container">\n\t\t'+r((c(l,"outlet")||t&&c(t,"outlet")||s).call(i,null!=t?c(t,"notifications-list-view"):t,{name:"outlet",hash:{},data:a,loc:{start:{line:40,column:2},end:{line:40,column:36}}}))+'\n\t</div>\n\t<div class=\'footer\'>\n\t\t<a class="foot-link" href="/notifications">\n\t\t\t'+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"notifications.VIEW_ALL_NOTIFICATIONS"},data:a,loc:{start:{line:44,column:3},end:{line:44,column:67}}}))+'\n\t\t</a>\n\t\t<span class="label-beta">'+r((c(l,"intlMessage")||t&&c(t,"intlMessage")||s).call(i,{name:"intlMessage",hash:{intlName:"common.NEW"},data:a,loc:{start:{line:46,column:27},end:{line:46,column:65}}}))+"</span>\n\t</div>\n</div>\n"},useData:!0}),e={};n.Array.each([],function(t){var l=n.Template.get("hermes/"+t);l&&(e[t]=l)}),n.Template.register("hermes/notifications-panel",function(t,a){return a=a||{},a.partials=a.partials?n.merge(e,a.partials):e,l(t,a)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("template-lib-helper",function(e,t){var r=require("hermes-core/flog")(t);e.TemplateLibraryHelper=function(t,l){var n=l&&l.localizeLib?l.localizeLib:e.mix({langBundles:["common"]},e.Localizable),i={getTemplate:function(l,i){var o,a=e.Template.get("hermes/"+l),p=n.getLangBundles();if(p.locales=t.lang||n.defaultLang,"function"!=typeof a)throw r.error("Template not found",{topic:this.name,template:l}),new Error("Template not found: "+l);return t.flipper&&(o=t.flipper),function(e){return!(e=e||{}).flippers&&o&&(e.flippers=o.toJSON()),i&&(e.isMobile=i.isMobile,e.cspNonce=i.cspNonce),a(e,{data:{intl:p,flippers:e.flippers}})}}};return e.augment(i,e.EventTarget),i}},"@VERSION@",{requires:["event-custom"]});YUI.add("hermes-template-join-group-invite-form",function(e,a){var t=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,t,n,r){var i=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="send-invitation">\n\t<p>'+e.escapeExpression((i(t,"intlMessage")||a&&i(a,"intlMessage")||e.hooks.helperMissing).call(null!=a?a:e.nullContext||{},{name:"intlMessage",hash:{intlName:"groups.GROUP_INVITE_ONLY_DESC"},data:r,loc:{start:{line:2,column:4},end:{line:2,column:60}}}))+'</p>\n\t<textarea class="group-invite-form"></textarea>\n</div>\n'},useData:!0}),n={};e.Array.each([],function(a){var t=e.Template.get("hermes/"+a);t&&(n[a]=t)}),e.Template.register("hermes/join-group-invite-form",function(a,r){return r=r||{},r.partials=r.partials?e.merge(n,r.partials):n,t(a,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("group-status-helper",function(e,t){require("hermes-core/flog")(t);var n=e.mix({langBundles:["common","groups"]},e.Localizable);e.GroupStatusHelper=function(t,o){var i,s,r=o.groupId,u=new e.TemplateLibraryHelper(t,{localizeLib:n}),a={load:function(){var n=this;return e.on("groupStatusHelper:groupStatusChanged",function(e){e.groupId===r&&n.update()}),o.useSearchModel?t.getModel("search-group-models",r).then(function(e){s=e,n.convertGroupInfoModel(e),n.groupRemoteMethods={join:e.registry.remote.join,leave:e.registry.remote.leave}}):t.getModel("group-info-models",r).then(function(e){return s=e,n.convertGroupInfoModel(e),n.groupRemoteMethods={join:e.registry.remote.join,leave:e.registry.remote.leave},e})},initiateJoinGroup:function(){var o=this.getJoinStatus(),s=i.title,r=i.id;if(o.canJoin&&!o.signedIn)return this.showSignUpModal(r);if(o.canJoin&&!o.requiresRequest)return this.joinGroup(r);if(o.canJoin&&o.isInvited)return this.joinGroup(r);if(!o.hasJoined&&o.hasRequested&&o.requiresRequest){return new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"groups.GROUP_INVITE_ONLY_HEADER",groupName:s}),message:n.intlMessage({intlName:"groups.GROUP_INVITE_PENDING",groupName:s}),actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1}).show(),e.Promise.resolve()}return o.hasJoined||o.hasRequested||!o.requiresRequest?o.hasJoined?(this.fire("groupJoined"),e.fire("groupStatusHelper:groupJoined",{groupId:r}),e.Promise.resolve()):void 0:this.promptForRules().then(e.bind(function(){this.showInviteRequestModal.call(this,r)},this),e.bind(function(){},this))},initiateLeaveGroup:function(){this.showLeaveGroupModal()},showLeaveGroupModal:function(){var o=i.title,s=i.id,r=null,u="";1===i.memberCount&&i.isMember?u=n.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_LAST_MEMBER",title:o}):i.isAdmin?(u=n.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_ADMIN",title:o}),u+=n.intlHTMLMessage({intlName:"groups.GROUPS_LEAVE_WARNING_REMOVE_PHOTOS"})):(u=n.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING",title:o}),u+=n.intlHTMLMessage({intlName:"groups.GROUPS_LEAVE_WARNING_REMOVE_PHOTOS"})),(r=new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_TITLE",title:o}),htmlMessage:u,actionButtonLabel:n.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_LEAVE_BUTTON"}),cancelButtonLabel:n.intlMessage({intlName:"groups.GROUPS_LEAVE_WARNING_CANCEL_BUTTON"}),overlayClassList:"over-droparound-under-modal"})).on("actionClick",e.bind(function(){var e=r.get("container").one("input"),t=e&&e.getDOMNode().checked;this.leaveGroup(s,t)},this)),r.show()},joinGroup:function(){var o=this;return this.promptForRules().then(e.bind(function(){return this.groupRemoteMethods.join({groupModel:s,acceptRules:!0},t).then(function(t){return o.convertGroupInfoModel(t),o.fire("groupJoined"),e.fire("groupStatusHelper:groupJoined",{groupId:r}),e.fire("groupStatusHelper:groupStatusChanged",{groupId:r}),t},function(o){new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"common.OOPS"}),message:n.intlMessage({intlName:"groups.GROUP_JOIN_ERROR"}),actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1}).show()})},this),e.bind(function(e){},this))},leaveGroup:function(o,i){var r=this;this.groupRemoteMethods.leave({groupModel:s,deletePhotos:!!i},t).then(function(t){return r.convertGroupInfoModel(t),r.fire("groupLeft"),e.fire("groupStatusHelper:groupLeft",{groupId:o}),e.fire("groupStatusHelper:groupStatusChanged",{groupId:o}),t},function(o){new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"common.OOPS"}),message:n.intlMessage({intlName:"groups.GROUP_LEAVE_ERROR"}),actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1}).show()})},showSignUpModal:function(o){var s,r=e.url("/groups/")+o,u=n.intlMessage({intlName:"groups.SIGN_IN_BEFORE_JOIN_TITLE"}),a=n.intlMessage({intlName:"groups.SIGN_UP_AND_JOIN_MESSAGE",name:i.title});(s=new e.Views.SignUpModal({appContext:t,signUpHeaderClass:"avatar group big",signUpHeaderImage:void 0!==this.groupModel.getValue("group")?this.groupModel.getValue("group").getValue("bestIconURL"):this.groupModel.getValue("bestIconURL"),signUpTitle:u,signUpMessage:a,beaconPrefix:"join"})).on("signUpClick",function(t){e.SigninHelper.signUpPendingJoinGroup({id:o},{postLoginUrl:r})}),s.on("signInClick",function(t){e.SigninHelper.addPendingJoinGroup({id:o},{postLoginUrl:r})}),s.show()},promptForRules:function(){return new e.Promise(e.bind(function(o,s){var r=i.secureRules,u=null;r?((u=new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_TITLE"}),htmlMessage:n.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_MESSAGE"})+"<br /><pre>"+r+"</pre>",showBodyLines:!1,actionButtonLabel:n.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_ACCEPT"}),cancelButtonLabel:n.intlMessage({intlName:"groups.GROUP_JOIN_RULES_DIALOG_DECLINE"})})).on("actionClick",function(){setTimeout(function(){o()},500)}),u.on("cancelClick",function(){setTimeout(function(){s()},500)}),u.show()):o()},this))},showInviteRequestModal:function(s){var r,a=n.intlMessage({intlName:"groups.GROUP_INVITE_ONLY_SEND"}),l=n.intlMessage({intlName:"common.CANCEL"}),g=u.getTemplate("join-group-invite-form",o.viewParams);(r=new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"groups.GROUP_INVITE_ONLY_HEADER",groupName:e.Escape.html(i.title)}),htmlMessage:g({groupName:i.title}),actionButtonLabel:a,cancelButtonLabel:l,overlayClassList:"over-droparound-under-modal"})).on("actionClick",function(){var o=r.get("container").one(".group-invite-form");if(o){var u=o.get("value");if(u.length>0){var a={group_id:s,message:u,accept_rules:!0};t.callAPI("flickr.groups.joinRequest",a).then(function(t){e.config.win.location.reload()},function(o){var s="";s=o&&7===o.code?n.intlMessage({intlName:"groups.GROUP_INVITE_PENDING",groupName:e.Escape.html(i.title)}):"message"in o?o.message:n.intlMessage({intlName:"common.ERROR"}),new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"common.ERROR"}),message:s,actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1}).show()})}else setTimeout(function(){new e.Views.FluidModal({appContext:t,title:n.intlMessage({intlName:"common.ERROR"}),message:n.intlMessage({intlName:"groups.GROUP_INVITE_EMPTY_MESSAGE"}),actionButtonLabel:n.intlMessage({intlName:"common.OK"}),showCancelButton:!1}).show()},300)}}),r.on("activated",function(){var e=r.get("container"),t=e.one("textarea")||!1;e&&t&&t.focus()}),r.show()},getJoinStatus:function(){var e=!1,n=!1,o=!1,s=!1,r=!1,u=t&&t.getViewer(),a=u&&u.signedIn;return e=i.isMember,r=i.isInvited,o=i.hasPendingRequestToJoin,n=2===i.privacy,s=i.isAdmin,{signedIn:a,canJoin:!e&&!o,hasJoined:e,hasRequested:o,isInvited:r,requiresRequest:n,isAdmin:s}},convertGroupInfoModel:function(e){var t=o.useSearchModel?e:e.getValue("group");i={title:t.getValue("title"),id:t.getValue("id"),memberCount:t.getValue("memberCount"),isMember:t.getValue("isMember"),isModerator:t.getValue("isModerator"),isAdmin:t.getValue("isAdmin"),privacy:t.getValue("privacy"),isInvited:e.getValue("isInvited"),hasPendingRequestToJoin:e.getValue("hasPendingRequestToJoin"),secureRules:e.getValue("secureRules"),muted:t.getValue("muted")}},getInfo:function(){return{groupAttrs:i,joinStatus:this.getJoinStatus()}},toggleNotificationsMute:function(n){var i=o.useSearchModel?s:s.getValue("group");return t.callAPI(n?"flickr.activity.muteObject":"flickr.activity.unmuteObject",{group_id:r}).then(function(t){i.setValue("muted",n),e.fire("groupStatusHelper:groupStatusChanged",{groupId:r})})},toggleMuteGroup:function(t){var n={object_id:r,object_type:1,pref_type:"GroupBatch",pref_val:t?0:1};return this.insertUserPrefs(n).then(function(n){e.fire("groupStatusHelper:groupMuteToggled",{groupId:r,isMuted:t}),e.fire("groupStatusHelper:groupStatusChanged",{groupId:r})})},insertUserPrefs:function(e){return t.callAPI("flickr.feed.preferences.insertUserPreferences",e)},update:function(){this.convertGroupInfoModel(s)},declineInvite:function(){return s.declineInvite()}};return e.augment(a,e.EventTarget),a}},"@VERSION@",{requires:["event-custom","template-lib-helper","hermes-template-join-group-invite-form"],langBundles:["common","groups"]});YUI.add("base-notification-item-view",function(t,i){var e=require("hermes-core/flog")(i);t.namespace("Views")[this.name]=t.Base.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,additionalViewClasses:function(){return["base-notification-item"]},initializer:function(i){this.params=i,this.activityItem=i.activityItem,this.notificationsHelper=new t.NotificationsHelper(this.appContext)},loadState:function(){return t.Promise.resolve()},buildContainer:function(){var t=this.notificationsHelper.getTemplateHtml(this.activityItem);this.setContainerHTML(t)},activate:function(){var i=this.get("container").one(".notification-item");return i&&(i.toggleClass("unseen",!this.activityItem.isSeen),i.toggleClass("muted",this.activityItem.isMuted),this.registerEventHandler(i.on("click",this.handleAnalyticsClicks.bind(this))),this.setupContextMenu()),t.Promise.resolve(this)},handleContextMenuClick:function(){var i,e,n,a=this;this.menuConfigData&&(e=(i=this.notificationsHelper.getContextMenuConfig({item:this.params.activityItem,ctxMenuItems:this.menuConfigData})).map(function(t){return{text:t.text,value:t.actionId}}),(n=new t.Views.FluidDroparound({appContext:this.appContext,showDropArrow:!0,observePageResize:!0,anchorOffsetVertical:0,width:250,dismissOnOverlayClick:!0,anchorElement:this.contextMenuButton,menuItems:e,positionFixed:!0,closeOnScroll:!0,classList:"over-modal notification-context-menu",overlayClassList:"over-modal"})).show(),this.registerEventHandler(n.on("selected",function(t){var e=i.find(function(i){return i.actionId===t.menuItem.value}),o=a.get("container");t.analyticsLocation=o.ancestor(".notifications-panel-view")?"panel":"page",n.close(),e.onSelected(t)})))},setupContextMenu:function(){var i=this,n=this.get("container"),a=this.params.activityItem;if(this.contextMenuButton=n.one(".notification-context-menu-button"),this.contextMenuButton)return this.registerEventHandler(this.contextMenuButton.on("click",this.handleContextMenuClick.bind(this))),this.notificationsHelper.loadContextMenuConfig(a).then(function(t){i.menuConfigData=t}).catch(function(i){return e.error({err:i}),t.Promise.resolve()})},handleAnalyticsClicks:function(t){var i=t.target;i.ancestor(".headline-container",!0)&&"A"===i.get("tagName").toUpperCase()?this.beaconAnalytics(this.activityItem,"Headline Click"):i.ancestor(".notification-photo-thumb",!0)?this.beaconAnalytics(this.activityItem,"Photo Thumb Click"):i.ancestor(".avatar",!0)&&!i.ancestor(".photo-thumb",!0)?this.beaconAnalytics(this.activityItem,"Avatar Click"):i.ancestor(".notification-context-menu-button",!0)&&this.beaconAnalytics(this.activityItem,"Context Menu Click")},beaconAnalytics:function(i,e){var n=this.get("container").ancestor(".notifications-panel-view")?"panel":"page";t.Analytics.setDataLayerProp("notifications.notificationType",i.type),t.Analytics.setDataLayerProp("notifications.actionType",e),t.Analytics.setDataLayerProp("notifications.location",n),t.Analytics.sendClick("","Notification Action"),t.Analytics.setDataLayerProp("notifications.notificationType",""),t.Analytics.setDataLayerProp("notifications.actionType",""),t.Analytics.setDataLayerProp("notifications.location","")}})},"@VERSION@",{requires:["flickr-view"],langBundles:["common","relative-dates","notifications"]});